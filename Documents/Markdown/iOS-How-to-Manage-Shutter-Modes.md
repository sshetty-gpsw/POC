# How to Manage Shutter Modes

The GoPro WSDK can handle a variety of shutter modes. Each of these modes belongs to a group, such
as video, photo, multishot, etc. For example, the HERO4 Silver and Black models support 
following modes and submodes:

* Video
    * Video
    * Time Lapse Video
    * Video Plus Photo
    * Looping
* Photo
    * Single Photo
    * Continuous Photo
    * Night Photo
* Multishot
    * Burst 
    * Time Lapse
    * Night Lapse

Each camera has its own supported shutter modes and groups, so your app should retrieve and 
display all of the available mode groups, and then all of the available modes for the selected
group. 

This page describes how to obtain and display supported modes, how to set the mode, and information
about what media is generated by common modes.

## Obtaining and Displaying Supported Modes

Follow these steps to display the supported modes:

1. From the **GPCamera** object, get the **supportedModeGroups** property, which is an array of **GPCameraModeGroup** objects. 
2. Loop through each item and display the **displayName** property.
3. Now do the same with the **supportedModes** property, which has the modes for the currently selected mode group. Again, display the **displayName** property.

### Objective-C

In the sample app, you can find this functionality in the `GPCameraDetailController.m` file.
The mode group and modes are displayed using the **updatecameraModeGroupControl** method.

```objc
[self.cameraModeGroupControl removeAllSegments];

for (NSUInteger index = 0; index < self.camera.supportedModeGroups.count; ++index)
{
    [self.cameraModeGroupControl insertSegmentWithTitle:[self.camera.supportedModeGroups[index] displayName]
                                           atIndex:index animated:NO];
}

[self.cameraModeControl removeAllSegments];

for (NSUInteger index = 0; index < self.camera.supportedModes.count; ++index)
{
    [self.cameraModeControl insertSegmentWithTitle:[self.camera.supportedModes[index] displayName]
                                           atIndex:index animated:NO];
}
```

## Setting the Shutter Modes

To set the shutter mode group, use the **setModeGroup:completionBlock:** method of your **GPCamera** object,
passing it the new mode group.

To set the shutter mode, use the **setMode:completionBlock:** method of your **GPCamera** object,
passing it the new mode.

In the sample app, you can find this functionality in the `GPCameraDetailController.m` file.
When the user taps the control associated with either the mode group or mode, then the
**segmentedControlIndexChanged** method is called. 

### Objective-C

```objc
- (IBAction)segmentedControlIndexChanged:(id)sender
{
    if (sender == self.cameraModeGroupControl)
    {
        NSInteger index = self.cameraModeGroupControl.selectedSegmentIndex;
        if (index < self.camera.supportedModeGroups.count)
        {
            [self.camera setModeGroup:self.camera.supportedModeGroups[index] completionBlock:NULL];
        }
    }
    else if (sender == self.cameraModeControl)
    {
        NSInteger index = self.cameraModeControl.selectedSegmentIndex;
        if (index < self.camera.supportedModes.count)
        {
            [self.camera setMode:self.camera.supportedModes[index] completionBlock:NULL];
        }
    }
}
```

# Media for Common Camera Modes

The following table provides information on how media is stored for common camera modes:

| Mode Group | Mode | Media | Notes |
| ---------- | ---- | ----- | ----- |
| Video | Video | MP4 | |
|       | Time Lapse Video | MP4 | Takes single frames of video at set intervals |
|       | Video + Photo | MP4 + Group of JPEG | Takes video plus photos at the specified time interval. The photos start at the time interval. |
|       | Looping | MP4 | Records video continuously, separating it into 1 minute videos, deleting videos as needed. |
| Photo | Single | JPEG |  |
|     | Continuous | Group of JPEG | Takes photos at relatively slow intervals until the shutter is closed. |
|     | Night | JPEG | When taking photos, the shutter stays open longer, allowing more light onto the CCD. |
| Multishot | Burst | Group of JPEG files | Takes photos at very short intervals for a set number of photos. |
|     | Time Lapse | Group of JPEG files | Takes photos at relatively slow intervals until the shutter is closed. |
|     | Night Lapse | Group of JPEG files |Takes photos at relatively slow intervals until the shutter is closed. |
